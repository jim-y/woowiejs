/* woowie - v0.1.0 - 2014-08-11
 * https://github.com/jim-y/woowiejs
 * Copyright (c) 2014 Attila Kling; Licensed MIT 
 */

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){!function(b){"use strict";function c(a){var b;b="string"==typeof a?g.querySelectorAll(a):a.length?a:[a];for(var c=0;c<b.length;++c)this[c]=b[c];this.length=b.length}function d(a,b){[].forEach.call(a,b)}function e(a){var b,c=a.url,d=a.type,e=a.contentType||"text",f=(a.data,new i);b=new XMLHttpRequest;try{b.open(d,c,!0)}catch(g){console.log("openError"),f.reject(g)}b.setRequestHeader("Content-Type",e),b.onload=function(){b.status>=200&&b.status<400?f.fulfill(b.responseText):(console.log("Error"),f.reject(new Error("There was an error")))},b.onerror=function(){console.log("Connection Error"),f.reject(new Error("Connection error"))};try{b.send()}catch(h){console.log("networkError"),f.reject(new Error(h))}return f}var f="0.0.1",g=b.document,h=function(a){return new c(a)},i=a("mpromise");return h.each=d,h.ajax=e,h.version=f,c.prototype.selector="",c.prototype.length=0,c.prototype.each=function(a){return d(this,a),this},c.prototype.map=function(a){for(var b,c,d=[],e=this,f=0;f<this.length;++f)b=this[f],c=f,d.push(a.call(this,b,c,e));return d},c.prototype.text=function(a){var b;return b="undefined"!=typeof a?this.each(function(b){b.textContent=a}):this.map(function(a){return a.textContent}),b.length>1?b:b[0]},c.prototype.hasClass=function(a){var b;return this.each(function(c){var d=1===c.nodeType;b=d&&c.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))?!0:!1||!d}),b},b.woowie=b.w=h,h}(window)},{mpromise:4}],2:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],3:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(a,b,c){b.exports=c=a("./lib/promise")},{"./lib/promise":5}],5:[function(a,b){(function(c){"use strict";function d(a){h.call(this),this.emitted={},this.ended=!1,"function"==typeof a&&this.onResolve(a)}function e(a,b){return function(){var d=arguments;c.nextTick(function(){a.domain&&a.domain!==c.domain&&a.domain.enter();var e;try{e=b.apply(void 0,d)}catch(g){return a.reject(g)}f(a,e)})}}function f(a,b){var c,d,e,h,i;if(d=typeof b,"undefined"==d)return a.fulfill(b);if(a===b)return a.reject(new TypeError("promise and x are the same"));if(null!=b&&("object"==d||"function"==d)){try{c=b.then}catch(j){return a.reject(j)}if("function"==typeof c)try{return i=function(){var b=g(arguments);f.apply(this,[a].concat(b))},h=a.reject.bind(a),e=!1,c.call(b,function(){return e?void 0:(e=!0,i.apply(this,arguments))},function(){return e?void 0:(e=!0,h.apply(this,arguments))})}catch(j){if(e)return;if(e=!0,a.ended)throw j;return a.reject(j)}}a.fulfill(b)}var g=function(a,b,c){return Array.prototype.slice.call(a,b,c)},h=a("events").EventEmitter;d.SUCCESS="fulfill",d.FAILURE="reject",d.prototype.__proto__=h.prototype,d.prototype.on=function(a,b){return this.emitted[a]?b.apply(this,this.emitted[a]):h.prototype.on.call(this,a,b),this},d.prototype.emit=function(a){var b=this.constructor.SUCCESS,c=this.constructor.FAILURE;if(a==b||a==c){if(this.emitted[b]||this.emitted[c])return this;this.emitted[a]=g(arguments,1)}return h.prototype.emit.apply(this,arguments)},d.prototype.fulfill=function(){var a=g(arguments);return this.emit.apply(this,[this.constructor.SUCCESS].concat(a))},d.prototype.reject=function(a){if(this.ended&&!this.hasRejectListeners())throw a;return this.emit(this.constructor.FAILURE,a)},d.prototype.resolve=function(a,b){return a?this.reject(a):this.fulfill(b)},d.prototype.onFulfill=function(a){if(!a)return this;if("function"!=typeof a)throw new TypeError("fn should be a function");return this.on(this.constructor.SUCCESS,a)},d.prototype.hasRejectListeners=function(){return this.listeners(this.constructor.FAILURE).length>0},d.prototype.onReject=function(a){if(!a)return this;if("function"!=typeof a)throw new TypeError("fn should be a function");return this.on(this.constructor.FAILURE,a)},d.prototype.onResolve=function(a){if(!a)return this;if("function"!=typeof a)throw new TypeError("fn should be a function");return this.on(this.constructor.FAILURE,function(b){a.apply(this,[b])}),this.on(this.constructor.SUCCESS,function(){var b=g(arguments);a.apply(this,[null].concat(b))}),this},d.prototype.then=function(a,b){var c=this,f=new d;return c.onReject("function"==typeof b?e(f,b):f.reject.bind(f)),c.onFulfill("function"==typeof a?e(f,a):f.fulfill.bind(f)),f},d.prototype.end=function(a){return this.onReject(a),this.ended=!0,this},d.trace=function(a,b){a.then(function(){console.log("%s fulfill %j",b,g(arguments))},function(){console.log("%s reject %j",b,g(arguments))})},d.prototype.chain=function(a){var b=this;return b.onFulfill(a.fulfill.bind(a)),b.onReject(a.reject.bind(a)),a},d.deferred=function(){var a=new d;return{promise:a,reject:a.reject.bind(a),fulfill:a.fulfill.bind(a),callback:a.resolve.bind(a)}},d.prototype.all=function(a){var b=new d;return this.then(a).then(function(a){var c,d=0,e=[];return a.length||b.resolve(),a.forEach(function(a,f){c||(d++,a.then(function(a){c||(e[f]=a,--d,0==d&&b.fulfill(e))},function(a){c||(c=a,b.reject(a))}))}),b},b.reject.bind(b)),b},d.hook=function(a){var b=new d,c=new d,e=function(){return--f,0==f&&c.fulfill(),c},f=1,g=b;return a.forEach(function(a){g=g.then(function(){var b=new d;return f++,a(b.resolve.bind(b),e),b})}),g=g.then(e),b.resolve(),g},b.exports=d}).call(this,a("JkpR2F"))},{JkpR2F:3,events:2}]},{},[1]);